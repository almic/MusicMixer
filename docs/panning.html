<!DOCTYPE html>
<html>

<head>

    <style>
        body {
            background: #000;
            color: #f0f8ff;
        }
    </style>
    <link rel="stylesheet" href="css/page.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- Main source -->
    <script type="module" src="js/main.js"></script>
    <script type="module" src="js/panning.js"></script>

    <!-- Code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/night-owl.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>

</head>

<body>

    <div class="center page-box page-style flex-container">
        <div class="flex-aside center-text">
            <p><a href="index.html">Homepage</a></p>
            <p class="flex-column-to-bottom"><a href="#">Scroll to top</a></p>
        </div>
        <div class="flex-main">
            <h1 id="title" class="center-text text-glow-responsive">
                Panning
            </h1>
            <p class="center-text text-glow">
                Play an oscillator sound and control the relative position of the source in 3D space.
            </p>
            <p class="moz-only center-text">
                <span class="pop">
                Remember: For the best experience, use the latest version of Chrome. Firefox is 7 years late.
                </span>
            </p>
            <hr>

            <div class="flex-container flex-center flex-controls">
                <button type="button" class="load-button glow-bright" onclick="hideButtons(this);loadMixer()">Click to load MusicMixer</button>
                <div
                    class="flex-canvas"
                    hidden
                >
                    <canvas
                        id="panning"
                        style="aspect-ratio: 1/1;width:100%"
                    ></canvas>
                </div>
                <div
                    class="flex-canvas-aside"
                    hidden
                >
                    <div
                        class="flex-container flex-center flex-column height-initial center-text"
                        style="min-height:100%;margin:8px"
                    >
                        <button
                            type="button"
                            data-toggle-text="Stop Music"
                            onclick="toggleTrack(this)"
                            >Play Music</button>
                        <br>
                        <span>Volume</span>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="changeVolume(Number(this.value))">
                        <br>
                        <span>Distance</span>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="updateDistance(Number(this.value))">
                        <br>
                        <span>Left &#x2190;&#x2192; Ahead &#x2190;&#x2192; Right</span>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="updateAzimuth(Number(this.value))">
                        <br>
                        <span>Above &#x2190;&#x2192; Below</span>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="updateElevation(Number(this.value))">
                    </div>
                </div>
            </div>

            <hr>
            <div class="source-code-container">
                <button type="button" class="collapse-button" data-collapse="code, Hide Source">Show Source</button>
                <div name="code" class="collapse-content">
                    <pre class="m-0"><code name="source-code" class="language-javascript">Source code!!</code></pre>
                </div>
            </div>
        </div>
    </div>

<script>
setTimeout(() => {
    loadSourceCode('source-code', 'js/panning.js')
        .catch((reason) => { console.error(reason); })
        .finally(() => { hljs.highlightAll(); });
}, 10);
</script>

</body>

</html>
