<!DOCTYPE html>
<html>

<head>

    <style>
        body {
            background: #000;
            color: #f0f8ff;
        }
    </style>
    <link rel="stylesheet" href="css/page.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- Main source -->
    <script type="module" src="js/main.js"></script>
    <script type="module" src="js/soundscape.js"></script>

    <!-- Code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/night-owl.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>

</head>

<body>

    <div class="center page-box page-style flex-container">
        <div class="flex-aside center-text">
            <p><a href="index.html">Homepage</a></p>
            <p class="flex-column-to-bottom"><a href="#">Scroll to top</a></p>
        </div>
        <div class="flex-main">
            <h1 id="title" class="center-text text-glow-responsive">
                Soundscapes
            </h1>
            <p class="center-text text-glow">
                Play and loop multiple sounds on a track group.
                <br>
                This soundscape combines four sounds to imitate being in a cave at night while a storm blows outside.
            </p>
            <p class="moz-only center-text">
                <span class="pop">
                Remember: For the best experience, use the latest version of Chrome. Firefox is 7 years late.
                </span>
            </p>
            <hr>

            <div class="flex-container flex-center flex-controls">
                <button type="button" class="load-button glow-bright" onclick="hideButtons(this);loadMixer()">Click to load MusicMixer</button>
                <div style="flex-basis:35%" hidden>
                    <div class="flex-container flex-column flex-center center-text">
                        <span>Group Volume</span>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="changeVolume('ambience', Number(this.value))">
                    </div>
                </div>
                <div class="flex-break-row" hidden></div>
                <div style="flex-basis:20%;flex-grow:1" hidden>
                    <div style="height:5rem" class="flex-container flex-column flex-center">
                        <button type="button"
                            data-track="storm"
                            data-toggle-text="Stop Storm"
                            onclick="toggleTrack(this)"
                            >Start Storm</button>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="changeVolume('storm', Number(this.value))">
                    </div>
                </div>
                <div style="flex-basis:20%;flex-grow:1" hidden>
                    <div style="height:5rem" class="flex-container flex-column flex-center">
                        <button type="button"
                            data-track="rain"
                            data-toggle-text="Stop Rain"
                            onclick="toggleTrack(this)"
                            >Start Rain</button>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="changeVolume('rain', Number(this.value))">
                    </div>
                </div>
                <div style="flex-basis:20%;flex-grow:1" hidden>
                    <div style="height:5rem" class="flex-container flex-column flex-center">
                        <button type="button"
                            data-track="wildlife"
                            data-toggle-text="Remove Wildlife"
                            onclick="toggleTrack(this)"
                            >Add Wildlife</button>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="changeVolume('wildlife', Number(this.value))">
                    </div>
                </div>
                <div style="flex-basis:20%;flex-grow:1" hidden>
                    <div style="height:5rem" class="flex-container flex-column flex-center">
                        <button type="button"
                            data-track="cave"
                            data-toggle-text="Undrip Cave"
                            onclick="toggleTrack(this)"
                            >Drip Cave</button>
                        <input type="range" min="0" max="1" value="0.5" step="0.001" oninput="changeVolume('cave', Number(this.value))">
                    </div>
                </div>
            </div>

            <hr>
            <div class="source-code-container">
                <button type="button" class="collapse-button" data-collapse="code, Hide Source">Show Source</button>
                <div name="code" class="collapse-content">
                    <pre class="m-0"><code name="source-code" class="language-javascript">Source code!!</code></pre>
                </div>
            </div>
        </div>
    </div>

<script>
setTimeout(() => {
    loadSourceCode('source-code', 'js/soundscape.js')
        .catch((reason) => { console.error(reason); })
        .finally(() => { hljs.highlightAll(); });
}, 10);
</script>

</body>

</html>
